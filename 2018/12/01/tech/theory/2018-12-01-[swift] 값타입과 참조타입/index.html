<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Swift-값타입과 참조타입 - Hexo</title><meta description="값 타입과 참조 타입 https:&amp;#x2F;&amp;#x2F;developer.apple.com&amp;#x2F;swift&amp;#x2F;blog&amp;#x2F;?id&amp;#x3D;10  Swift의 타입은 크게 두 부류로 나뉘는데, 하나는 “값 타입”으로 각각의 인스턴스가 고유한 데이터의 사본을 가지고 있는 것으로 주로 구조체나 열거타입, 튜플등이 이에 해당된다. 다른 하나는 “참조 타입”으로 이는 각각의 인스턴스가 하나의 데이터 사본"><meta property="og:type" content="blog"><meta property="og:title" content="Swift-값타입과 참조타입"><meta property="og:url" content="http://yoursite.com/2018/12/01/tech/theory/2018-12-01-[swift]%20%EA%B0%92%ED%83%80%EC%9E%85%EA%B3%BC%20%EC%B0%B8%EC%A1%B0%ED%83%80%EC%9E%85/"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="값 타입과 참조 타입 https:&amp;#x2F;&amp;#x2F;developer.apple.com&amp;#x2F;swift&amp;#x2F;blog&amp;#x2F;?id&amp;#x3D;10  Swift의 타입은 크게 두 부류로 나뉘는데, 하나는 “값 타입”으로 각각의 인스턴스가 고유한 데이터의 사본을 가지고 있는 것으로 주로 구조체나 열거타입, 튜플등이 이에 해당된다. 다른 하나는 “참조 타입”으로 이는 각각의 인스턴스가 하나의 데이터 사본"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://yoursite.com/img/og_image.png"><meta property="article:published_time" content="2018-12-01T09:01:00.000Z"><meta property="article:modified_time" content="2019-03-31T06:54:31.590Z"><meta property="article:author" content="John Doe"><meta property="article:tag" content="Swift"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2018/12/01/tech/theory/2018-12-01-[swift]%20%EA%B0%92%ED%83%80%EC%9E%85%EA%B3%BC%20%EC%B0%B8%EC%A1%B0%ED%83%80%EC%9E%85/"},"headline":"Hexo","image":["http://yoursite.com/img/og_image.png"],"datePublished":"2018-12-01T09:01:00.000Z","dateModified":"2019-03-31T06:54:31.590Z","author":{"@type":"Person","name":"John Doe"},"description":"값 타입과 참조 타입 https:&#x2F;&#x2F;developer.apple.com&#x2F;swift&#x2F;blog&#x2F;?id&#x3D;10  Swift의 타입은 크게 두 부류로 나뉘는데, 하나는 “값 타입”으로 각각의 인스턴스가 고유한 데이터의 사본을 가지고 있는 것으로 주로 구조체나 열거타입, 튜플등이 이에 해당된다. 다른 하나는 “참조 타입”으로 이는 각각의 인스턴스가 하나의 데이터 사본"}</script><link rel="canonical" href="http://yoursite.com/2018/12/01/tech/theory/2018-12-01-[swift]%20%EA%B0%92%ED%83%80%EC%9E%85%EA%B3%BC%20%EC%B0%B8%EC%A1%B0%ED%83%80%EC%9E%85/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/categories/tec/">Technology</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/92pino"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2018-12-01T09:01:00.000Z" title="2018-12-01T09:01:00.000Z">2018-12-01</time><span class="level-item"><a class="link-muted" href="/categories/theory/">theory</a></span><span class="level-item">7 minutes read (About 1111 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Swift-값타입과 참조타입</h1><div class="content"><h2 id="값-타입과-참조-타입"><a href="#값-타입과-참조-타입" class="headerlink" title="값 타입과 참조 타입"></a>값 타입과 참조 타입</h2><blockquote>
<p><a href="https://developer.apple.com/swift/blog/?id=10">https://developer.apple.com/swift/blog/?id=10</a></p>
</blockquote>
<p>Swift의 타입은 크게 두 부류로 나뉘는데, 하나는 “값 타입”으로 각각의 인스턴스가 고유한 데이터의 사본을 가지고 있는 것으로 주로 구조체나 열거타입, 튜플등이 이에 해당된다. 다른 하나는 “참조 타입”으로 이는 각각의 인스턴스가 하나의 데이터 사본을 동시에 참조하는 것으로 클래스의 인스턴스가 여기에 해당한다. 이 글에서는 각 타입의 장점과 언제 어떤 타입을 사용해야 할지를 알아보겠다.</p>
<h3 id="차이점"><a href="#차이점" class="headerlink" title="차이점"></a>차이점</h3><p>값타입이 참조타입과 구분되는 가장 큰 특징은 복사 — 대입, 초기화, 파라미터로 전달 –가 되어 개별 이스턴스들이 각각의 독립된 사본으로 존재하게 되는 것이다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">S</span> </span>&#123; <span class="keyword">var</span> data: <span class="type">Int</span> = -<span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="type">S</span>()</span><br><span class="line"><span class="keyword">var</span> b = a</span><br><span class="line">a.data = <span class="number">42</span></span><br><span class="line"><span class="built_in">println</span>(<span class="string">"\(a.data), \(b.data)"</span>) <span class="comment">// "42, -1"</span></span><br></pre></td></tr></table></figure>

<p>레퍼런스를 복사하는 것은 암시적으로는 공유된 인스턴스를 갖는 것이다. 따라서 복사 후에도 두 인스턴스는 동일한 데이터이며, 두 번째 인스턴스를 변경하는 것은 원본에도 영향을 준다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> </span>&#123; <span class="keyword">var</span> data: <span class="type">Int</span> = -<span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">var</span> x = <span class="type">C</span>()</span><br><span class="line"><span class="keyword">var</span> y = x</span><br><span class="line">x.data = <span class="number">42</span></span><br><span class="line"><span class="built_in">println</span>(<span class="string">"\(x.data), \(y.data)"</span>) <span class="comment">// "42, 42"</span></span><br></pre></td></tr></table></figure>

<h3 id="변경과-안정성"><a href="#변경과-안정성" class="headerlink" title="변경과 안정성"></a>변경과 안정성</h3><p>레퍼런스 타입보다 값 타입을 사용하는 가장 주된 목적은 코드를 이해하기 쉽다는 것이다. 각 인스턴스가 독립된 데이터 사본을 가지고 있다는 것은, 보이지 않는 곳에서 해당 데이터가 임의로 변경되지 않음을 보장할 수 있다는 것이다. 특히 이는 멀티스레드 환경에서 다른 스레드가 예기치 못한 시점에 데이터를 변경해놓을 수 있는 것을 방지한다. 보통 이런 류의 문제는 디버깅이 극히 어렵다.</p>
<p>이 차이점은 값이 변경될 때 두드러지므로, 만약 변경가능한 데이터가 없다면 클래스와 구조체의 차이가 없어진다. 즉 변경이 없으면 값타입이나 참조타입은 기본적으로 동일하다.</p>
<p>만약 클래스가 전적으로 변경불가한 속성을 갖고 있을 때를 가정해보자. 실제로 Swift에서는 읽기만 가능한 프로퍼티를 사용하고, 값을 바꾸는 API를 노출하지 않음으로써 변경 불가한 클래스를 만들 수 있다. Cocoa에서 NSURL이 이런 변경 불가한 클래스이다. 하지만, Swift는 원칙적으로 현재는 클래스를 변경 불가하도록 강제하는 언어적 매커니즘을 가지고 있지 않다. 따라서 완전히 변경 불가한 것을 보장하려한다면 구조체나 열거타입을 사용해야 한다.</p>
<h3 id="선택"><a href="#선택" class="headerlink" title="선택"></a>선택</h3><p>새로운 타입을 만들 때 값타입과 참조 타입 중 어떤 것을 선택해야 할까? Cocoa를 사용한다면 많은 API들은 NSObject의 서브 클래스일 것이다. 따라서 class를 사용해야 한다. 다른 경우라면,</p>
<ul>
<li><code>==</code>를 사용하여 인스턴스를 비교하는 것이 합당하다면</li>
<li>독립적인 상태로 각각의 사본을 만들고자 한다면</li>
<li>여러 스레드에서 사용될 데이터라면</li>
</ul>
<p>값 타입을 사용해야 한다. 그리고,</p>
<ul>
<li><code>===</code>를 사용하여 인스턴스(포인터)를 비교하는 것이 합당하다면</li>
<li>공유된 상태, 변경이 가능한 상태를 원한다면</li>
</ul>
<p>클래스를 쓰면 된다.</p>
<p>Swift에서 <code>Array</code>, <code>String</code>, <code>Dictionary</code>는 모두 값 타입이다. 이는 C의 int 타입처럼 순수한 값처럼 동작한다. 특별히 명시적으로 구조 내부를 복사하는 코드를 만들 필요가 없으며, 뒷단에서 다른 코드에 데이터를 불지불식간에 변경하는 일도 없다. 특히 값타입은 동기화 없이 스레드 간에 데이터를 전달할 수 있다. 따라서 안정성을 높이는 관점에서 바라볼 때 이런 모델은 코드를 보다 더 예측가능하게 만들어 줄 것이다.</p>
</div><div class="article-tags size-small is-uppercase mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Swift/">Swift</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2019/03/07/tech/git/2019-03-07-whatIsGit/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Git이란 무엇일까?</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2018/11/27/tech/swift/2018-11-27-Swift-%EB%B0%B0%EC%97%B4&amp;%EC%A7%91%ED%95%A9&amp;%ED%8A%9C%ED%94%8C&amp;%EB%94%95%EC%85%94%EB%84%88%EB%A6%AC/"><span class="level-item">Swift - 배열&amp;집합&amp;튜플&amp;딕셔너리</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'http://yoursite.com/2018/12/01/tech/theory/2018-12-01-[swift]%20%EA%B0%92%ED%83%80%EC%9E%85%EA%B3%BC%20%EC%B0%B8%EC%A1%B0%ED%83%80%EC%9E%85/';
            this.page.identifier = '2018/12/01/tech/theory/2018-12-01-[swift] 값타입과 참조타입/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + '92pino' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/img/avatar.png" alt="Pino"></figure><p class="title is-size-4 is-block line-height-inherit">Pino</p><p class="is-size-6 is-block">iOS Developer / Front-end Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Seoul, South Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">16</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">4</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/92pino" target="_blank" rel="noopener">Follow</a></div></div></div><!--!--><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/git/"><span class="level-start"><span class="level-item">git</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/swift/"><span class="level-start"><span class="level-item">swift</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/theory/"><span class="level-start"><span class="level-item">theory</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/til/"><span class="level-start"><span class="level-item">til</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2019-03-30T15:00:00.000Z">2019-03-31</time></p><p class="title is-6"><a class="link-muted" href="/2019/03/31/tech/til/2019-03-31-TIL20190331/">TIL - 20190331</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/til/">til</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2019-03-30T09:01:00.000Z">2019-03-30</time></p><p class="title is-6"><a class="link-muted" href="/2019/03/30/tech/theory/2019-03-30-CocoavsCocoaTouch/">코코아 프레임워크 VS 코코아 터치 프레임워크</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/theory/">theory</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2019-03-29T15:00:00.000Z">2019-03-30</time></p><p class="title is-6"><a class="link-muted" href="/2019/03/30/tech/til/2019-03-30-TIL20190330/">TIL - 20190330</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/til/">til</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2019-03-28T15:00:00.000Z">2019-03-29</time></p><p class="title is-6"><a class="link-muted" href="/2019/03/29/tech/swift/2019-03-29-Swift-ConditionalStatements/">Swift - 조건문 (Conditional Statements)</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/swift/">swift</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2019-03-24T15:00:00.000Z">2019-03-25</time></p><p class="title is-6"><a class="link-muted" href="/2019/03/25/tech/swift/2019-03-25-Swift-LoopStatements/">Swift - 반복문 (Loop Statements)</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/swift/">swift</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/11/"><span class="level-start"><span class="level-item">November 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Swift/"><span class="tag">Swift</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TIL/"><span class="tag">TIL</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Theory/"><span class="tag">Theory</span><span class="tag is-grey-lightest">3</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a><p class="size-small"><span>&copy; 2020 John Doe</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/92pino" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/92pino"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://yoursite.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>